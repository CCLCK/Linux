# åº“

æˆ‘çš„ç†è§£é‡Œåº“å°±æ˜¯åˆ«äººå†™çš„ä»£ç ï¼Œæ¯”å¦‚åº“å‡½æ•°ï¼Œç¬¬ä¸‰æ–¹åº“ï¼ŒåŒ…æ‹¬ä¹‹åä¼šç”¨åˆ°çš„ç½‘ç»œåº“ï¼Œè¿™äº›éƒ½æ˜¯åˆ«äººå†™çš„ï¼Œæˆ‘ä»¬åªæ˜¯æ‹¿è¿‡æ¥ä½¿ç”¨è€Œå·²ã€‚

- é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨åˆ«äººçš„ä»£ç å‘¢ï¼Ÿ

ä¸ºäº†å¼€å‘æ•ˆç‡å’Œä»£ç çš„å¥å£®æ€§ã€‚

> å¼ ä¸‰æ‰‹å†™ä¸€ä¸ªSTLç»™æå››ç”¨ï¼Œæå››æ•¢ç”¨å—ğŸ¤¡,è‚¯å®šæ˜¯ä¸æ•¢ç”¨çš„ï¼Œéœ€è¦STLæ—¶è‚¯å®šæ˜¯ä½¿ç”¨åº“é‡Œçš„ã€‚
>
> æˆ‘ä»¬ä½¿ç”¨çš„printfä¹Ÿæ˜¯å€ŸåŠ©äº†Cè¯­è¨€æä¾›çš„åº“ã€‚

- é‚£æˆ‘ä»¬è¦å¦‚ä½•ä½¿ç”¨åˆ«äººçš„åŠŸèƒ½ï¼Ÿ

åº“ã€å¼€æºä»£ç ã€å’Œç½‘ç»œåŠŸèƒ½è°ƒç”¨ã€‚ä¸‹é¢æˆ‘ä»¬ä¸»è¦äº†è§£çš„å°±æ˜¯åº“çš„ä½¿ç”¨ã€‚

> å¦‚æœåˆ«äººè¦ç”¨æˆ‘ä»¬çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åˆä¸æƒ³ç»™æºç ï¼Œå°±å¯ä»¥æŠŠæºç æ‰“åŒ…æˆä¸€ä¸ªåº“ç»™å¯¹æ–¹ç”¨ã€‚

- **åº“æ˜¯ä»€ä¹ˆï¼Ÿ**

ä¸€ç»„.oæ–‡ä»¶çš„é›†åˆï¼Œæˆ–è€…è¯´.objæ–‡ä»¶çš„é›†åˆï¼Œå³é“¾æ¥æ—¶ç”¨åˆ°çš„æ–‡ä»¶

####  ![image-20220712112135473](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712112135473.png)

> è¿™ç¯‡åšå®¢çš„gccéƒ¨åˆ†æ¢ç©¶äº†ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºçš„å„ä¸ªè¿‡ç¨‹ğŸ‘‰[Linuxä¸­gccã€g++ã€gdbä»¥åŠmake/Makefileçš„ä½¿ç”¨_](https://blog.csdn.net/m0_53005929/article/details/122401045)

- åº“çš„ç§ç±»

é“¾æ¥åˆ†ä¸ºåŠ¨æ€é“¾æ¥å’Œé™æ€é“¾æ¥ï¼Œåº“åˆ†ä¸ºåŠ¨æ€åº“å’Œé™æ€åº“ã€‚é™æ€é“¾æ¥æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨åˆ°çš„åº“å°±æ˜¯é™æ€åº“ï¼ŒåŠ¨æ€é“¾æ¥åŒç†ã€‚

- ä½¿ç”¨åº“çš„æ—¶å€™

![image-20220712162344645](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712162344645.png)

# é“¾æ¥ç®€è¿°

> æ¸…æ™°çš„ç†è§£é“¾æ¥éœ€è¦ç¼–è¯‘åŸç†çš„çŸ¥è¯†ï¼Œå¦‚æœæƒ³è¦æ·±å…¥æ¢ç©¶å…¶å„ä¸ªç»†èŠ‚ï¼Œå¯å‚è€ƒã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹è¿™æœ¬ä¹¦ï¼Œä¹¦ä¸Šè¯¦ç»†ä»‹ç»äº†ç›®æ ‡æ–‡ä»¶ï¼Œä»¥åŠå¯æ‰§è¡Œç¨‹åºæ˜¯æ€ä¹ˆæ¥çš„ï¼Œeofæ–‡ä»¶æ ¼å¼ä¸è¿›ç¨‹åœ°å€ç©ºé—´çš„è”ç³»ã€‚ï¼ˆ~~å¤ªåº•å±‚äº†ï¼Œæˆ‘å½“å‰å¯¹å…¶å„ä¸ªæ­¥éª¤ä¹Ÿä¸è¿‡æ˜¯ä¸€çŸ¥åŠè§£ï¼Œè‡ªç„¶æ˜¯æ— æ³•é˜è¿°æ¸…æ¥šçš„~~ï¼‰

## é“¾æ¥è¿‡ç¨‹ç®€è¿°

é“¾æ¥è¿‡ç¨‹ç®€å•æ¦‚æ‹¬ä¸ºåœ°å€å’Œç©ºé—´åˆ†é…ï¼Œç¬¦å·è§£æå’Œä»£ç é‡å®šä½ã€‚

ç¬¦å·æŒ‡çš„æ˜¯å˜é‡ï¼Œå‡½æ•°åç­‰ï¼Œç¬¦å·è§£æå°†ç¬¦å·çš„å®šä¹‰å’Œç¬¦å·çš„å¼•ç”¨å»ºç«‹è”ç³»ã€‚

é‡å®šä½æˆ‘ç®€å•ç†è§£ä¸ºå¯ä»¥å‡†ç¡®çš„è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾å‡†çš„æ‰¾åˆ°å‡½æ•°å…¥å£çš„åœ°å€å¹¶è¿›è¡Œè¿è¡Œã€‚

> - ç¬¦å·è§£æåç”Ÿæˆç¬¦å·è¡¨ï¼Œlinuxä¸‹æŸ¥çœ‹ç¬¦å·è¡¨
>
> ![image-20220712161217145](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712161217145.png)
>
> - ä»£ç çš„é‡å®šä½ï¼Œæˆ‘ä»¬è¿è¡Œçš„æŒ‡ä»¤éƒ½æœ‰å…¶å¯¹åº”çš„åœ°å€ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿›å…¥ä¸€ä¸ªå‡½æ•°å°±æ˜¯è·³åˆ°ä¸€ä¸ªè¡¨ç¤ºå‡½æ•°å…¥å£çš„åœ°å€ï¼Œä»£ç å˜åŒ–æŒ‡ä»¤ä¹Ÿä¼šè·Ÿç€å˜åŒ–ï¼Œåœ°å€è‡ªç„¶å°±å˜åŒ–äº†ï¼Œæ¯”å¦‚fooå‰é¢ä¸€å¼€å§‹æœ‰4æ¡ä»£ç ï¼Œä¿®æ”¹åæœ‰5æ¡ï¼Œé‚£å¯¹åº”çš„æŒ‡ä»¤å’Œåœ°å€å¯èƒ½éƒ½è¦å‘ç”Ÿå˜åŒ–ï¼Œå‡½æ•°å…¥å£å°±å˜åŒ–äº†ï¼Œæ­¤æ—¶çš„ä»£ç é‡Œé‡æ–°è®¡ç®—åœ°å€çš„è¿‡ç¨‹å°±å«åšé‡å®šä½ã€‚å¦‚æœæœ‰å¤šä¸ªæ¨¡å—ï¼Œæˆåƒä¸Šä¸‡è¡Œä»£ç ï¼Œä¿®æ”¹è¿™ä¸ªåœ°å€çš„å·¥ä½œå°±æ˜¯åºå¤§çš„ï¼Œæ—©æœŸè¿˜æ˜¯äººå·¥æ”¹ï¼Œç°åœ¨éƒ½äº¤ç»™é“¾æ¥å™¨äº†ã€‚

## é™æ€é“¾æ¥

é™æ€é“¾æ¥æ˜¯æŒ‡ç¼–è¯‘é˜¶æ®µæŠŠé™æ€åº“çš„ä»£ç åŠ å…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œæˆ–è€…è¯´æŠŠç”¨åˆ°çš„å‡½æ•°çš„å…¨éƒ¨é“¾æ¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­(ä½†æ˜¯é“¾æ¥å™¨æ˜¯ä»¥æ–‡ä»¶ä¸ºå•ä½è¿›è¡Œæ“ä½œçš„ï¼Œæ¯”å¦‚è¦ç”¨printfå°±å¾—é“¾æ¥æ‰€æœ‰åŒ…å«printfçš„æ–‡ä»¶)ã€‚è¿™æ ·ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸éœ€è¦å€ŸåŠ©å¤–éƒ¨çš„åº“ï¼Œç”Ÿæˆåå°±å¯ä»¥ç›´æ¥ç”¨ï¼Œè¿™ç§å°±æ˜¯é™æ€é“¾æ¥ã€‚ç¼ºç‚¹æ˜¯æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œæ¯æ¬¡æ›´æ–°éƒ½å¾—é‡æ–°ç¼–è¯‘ï¼Œä¼˜ç‚¹æ˜¯è¿è¡Œè¾ƒå¿«ã€‚

> æŠŠéœ€è¦çš„ä»£ç å’Œæ•°æ®å…¨æ‹·è´åˆ°æœ¬æ¨¡å—ã€‚

## åŠ¨æ€é“¾æ¥

åŠ¨æ€é“¾æ¥æ˜¯ä»€ä¹ˆæ—¶å€™è¦ç”¨åˆ°åº“é‡Œçš„ä¸œè¥¿å°±ä»€ä¹ˆæ—¶å€™å»æ‰¾ï¼Œå­˜çš„ä¹Ÿåªæ˜¯ç´¢å¼•å’Œç›¸å…³çš„éƒ¨åˆ†ä¿¡æ¯ï¼Œæ‰€ä»¥å ç”¨ç©ºé—´ä¸å¤§ã€‚å¥½å¤„æ˜¯å ç”¨ç©ºé—´å°ï¼Œæ‰€æœ‰çš„ç¨‹åºå¯ä»¥å…±ç”¨åŒä¸€ä¸ªåº“ï¼Œæ›´æ–°ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œç¼ºç‚¹å°±æ˜¯æ¯”è¾ƒæ…¢ã€‚å¦‚æœæˆ‘ä»¬æœ‰åŠæ—¶ä¸Šç™¾ä¸ªè¿›ç¨‹éƒ½ç”¨äº†åŒä¸€ä¸ªåº“ï¼Œé‚£ç›¸æ¯”é™æ€é“¾æ¥å°±å¤§å¤§èŠ‚çœäº†ç©ºé—´ã€‚

> åŠ¨æ€åº“å¯ä»¥è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ï¼Œä¸è¿›ç¨‹åœ°å€ç©ºé—´é‡Œçš„å…±äº«åŒºæœ‰å…³ã€‚

## åŠ¨é™æ€é“¾æ¥çš„ä¾‹å­

gcc -o å‘½ä»¤é»˜è®¤åŠ¨æ€é“¾æ¥ï¼ŒåŠ ä¸Š-staticé€‰é¡¹å°±è¡¨ç¤ºé™æ€é“¾æ¥ï¼Œå¯é€šè¿‡fileå‘½ä»¤æŸ¥çœ‹é“¾æ¥å±æ€§ã€‚

```c
#include <stdio.h>

int main()
{
  int a=1;
  printf("%d\n",a);

  return 0;
}
```

[ä¸‹å›¾çš„é«˜æ¸…å›¾ç‰‡](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712234218268.png)

![image-20220712234218268](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712234218268.png)

> lddå‘½ä»¤ï¼ŒæŸ¥çœ‹ç¨‹åºæˆ–è€…åº“æ–‡ä»¶æ‰€ä¾èµ–çš„å…±äº«åº“ï¼Œå³æ‰“å°åŠ¨æ€é“¾æ¥ä¾èµ–çš„åº“ã€‚
>
> ![image-20220712234823304](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712234823304.png)
>
> libc.so.6ï¼ŒæŠŠlibå’Œsoå»æ‰ï¼Œä¸­é—´å‰©ä¸‹çš„cå°±æ˜¯åº“åï¼Œ.soå°±è¡¨ç¤ºåŠ¨æ€åº“ï¼Œ.aè¡¨ç¤ºé™æ€åº“ï¼Œ.6æ˜¯ä¸»ç‰ˆæœ¬å·ã€‚

## å°ç»“

é™æ€é“¾æ¥ä¼šæ‹·è´ä»£ç å’Œæ•°æ®å†é“¾æ¥è¿›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé“¾æ¥å™¨çš„æ“ä½œå•å…ƒåˆæ˜¯æ–‡ä»¶ï¼Œå¯¼è‡´æ–‡ä»¶å˜å¤§ï¼Œä½†æ˜¯ä¼˜ç‚¹æ˜¯å¿«ï¼Œä¸éœ€è¦ä¾èµ–å¤–éƒ¨ï¼ˆåº“ä¸¢å¤±äº†ä¹Ÿèƒ½è·‘ï¼‰ï¼Œæ”¾å“ªé‡Œéƒ½èƒ½è·‘ï¼ˆä¸æ˜¯æŒ‡è·¨å¹³å°ï¼Œè·¨å¹³å°æ–‡ä»¶æ ¼å¼å¯èƒ½éƒ½å˜äº†å¾ˆå¤§å¯èƒ½è·‘ä¸äº†ï¼‰ï¼Œè¿è¡Œé€Ÿåº¦ä¹Ÿå¿«ä¸€ç‚¹ï¼ˆä¸ç”¨å»åº“é‡Œæ‰¾ä¸œè¥¿è‡ªç„¶å¿«ï¼‰ï¼Œä½†æ˜¯ä¸å¥½æ›´æ–°ï¼Œæ¯æ¬¡æ›´æ–°éƒ½å¾—é‡æ–°ç¼–è¯‘ï¼Œæ¯”å¦‚åŒ…å«äº†è¿™ä¸ªåº“é‡Œçš„æŸä¸ªå‡½æ•°çš„æ–‡ä»¶å°±å…¨å¾—æ›´æ–°ã€‚

åŠ¨æ€é“¾æ¥å°±æ˜¯å•¥æ—¶å€™è¦å°±å•¥æ—¶å€™æ‰¾ï¼Œé“¾æ¥å™¨çœ‹åˆ°åŠ¨æ€é“¾æ¥çš„ç¬¦å·ä¹Ÿä¼šå»æ‰¾ï¼Œåªä¸è¿‡ä¸åˆ†é…åœ°å€ï¼Œé‡å®šä½çš„æ“ä½œç­‰åˆ°äº†ç¨‹åºè£…è½½æ—¶æ‰åšã€‚ä½†å› ä¸ºæ˜¯é€šè¿‡ç´¢å¼•å»æ‰¾ï¼Œæ‰€ä»¥å¤šä¸ªè¿›ç¨‹å¯ä»¥å…±äº«ä¸€ä¸ªåº“ï¼ˆåº“ä¸¢å¤±å°±è·‘ä¸äº†äº†ï¼‰ï¼Œä¸€äº›åœºæ™¯ä¸‹å¯ä»¥å¤§å¤§èŠ‚çœç©ºé—´èµ„æºï¼Œæ›´æ–°æ—¶ä¹Ÿæ–¹ä¾¿ï¼Œåªç”¨ç¼–è¯‘ç›¸å¯¹åº”çš„æ¨¡å—ã€‚

# ç”ŸæˆåŠ¨é™æ€åº“

## ç”Ÿæˆé™æ€åº“

ä¸‹é¢ä»¥ä¸€ä¸ªä¾‹å­è¯´æ˜ç”Ÿæˆé™æ€åº“çš„æ“ä½œï¼Œæˆ‘ä»¬åˆ©ç”¨arå·¥å…·æŠŠä¸¤ä¸ªCæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªé™æ€åº“ã€‚é™æ€åº“é‡Œæ”¾.oæ–‡ä»¶ï¼Œå¯ä»¥åšåˆ°ä¸æš´éœ²æºç ï¼Œå†å»ºä¸€ä¸ªç›®å½•æ”¾å¤´æ–‡ä»¶ï¼Œå‘Šè¯‰ä½¿ç”¨è€…é‡Œé¢æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç”¨ã€‚

![image-20220713100632292](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220713100632292.png)

å…·ä½“æ“ä½œ



![image-20220713095002593](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220713095002593.png)

ç”Ÿæˆçš„é™æ€åº“åä¸ºlibmymath.a.1ï¼Œåé¢çš„1è¡¨ç¤ºç‰ˆæœ¬å·ï¼Œ**å»ºè®®æˆ‘ä»¬è‡ªå·±æ‰“åŒ…åº“çš„æ—¶å€™å»æ‰ç‰ˆæœ¬å·ï¼Œä¸ç„¶åé¢ä½¿ç”¨çš„æ—¶å€™ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°åº“**...(ç½‘ä¸ŠæŸ¥é˜…èµ„æ–™åå‘ç°é™æ€åº“ä¸€èˆ¬éƒ½æŠŠç‰ˆæœ¬å·å†™åœ¨æ–‡ä»¶é‡Œï¼Œå†é€šè¿‡strings+æ–‡ä»¶é‡Œæ·»åŠ å­—ç¬¦ä¸²versionæ¥æ ‡è¯†æ–‡ä»¶æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œä¹Ÿæœ‰åˆ©ç”¨å‘½ä»¤è¡Œå‚æ•°æ¥æ‰“å°ç‰ˆæœ¬å·çš„)

> éšç¬”è®°å½•ï¼švimåˆ†å±å‘½ä»¤æ˜¯vs,ctrl+w+wå¯ä»¥åˆ‡æ¢çª—å£ã€‚

## ä½¿ç”¨é™æ€åº“

```shell
gcc -o main main.c  -I ./include -L ./lib -lmymath -static
```

-IæŒ‡å®šå»å“ªæ‰¾å¤´æ–‡ä»¶ï¼Œ-LæŒ‡å®šå»å“ªæ‰¾åº“æ–‡ä»¶ï¼Œ-l+åº“åè¡¨ç¤ºå»æ‰¾å“ªä¸ªåº“

![image-20220713105509236](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220713105509236.png)







![image-20220711005057304](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711005057304.png)



![image-20220711005138442](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711005138442.png)

![image-20220711005752020](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711005752020.png)

 

![image-20220711143951799](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711143951799.png)





æ‰€æœ‰çš„è¿›ç¨‹åšåˆ°ä½¿ç”¨åŒä¸€ä¸ªåŠ¨æ€åº“ï¼Œç”¨åŒä¸€ä»½ä»£ç ï¼Œåˆç†çš„èŠ‚çœäº†èµ„æº

é™æ€é“¾æ¥å°±ç›¸å½“äºä¸ç”¨åˆ°å…±äº«åŒº

![image-20220711144437930](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711144437930.png)









[c++ - GCC -fPIC option - Stack Overflow](https://stackoverflow.com/questions/5311515/gcc-fpic-option)



![image-20220711153844476](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711153844476.png)







![image-20220711154505612](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711154505612.png)



![image-20220711154942827](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711154942827.png)







![image-20220711235016546](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711235016546.png)





![image-20220711235243969](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220711235243969.png)





  ![image-20220712003558735](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712003558735.png)





![image-20220712003656303](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220712003656303.png)





















































































